{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEAD,EAAAE,OAAOC,KAAK,CACVC,SAAS,IAGX,IAAMC,EAAUC,SAASC,iBAAiB,SACpCC,EAAeF,SAASG,cAAc,UAExCC,EAAU,EAERC,EAASN,EAAQ,GACjBO,EAAQP,EAAQ,GAChBQ,EAAWR,EAAQ,GAEzBG,EAAaM,iBAAiB,SAE9B,SAASC,EAAcC,GACrBA,EAAIC,iBAEJT,EAAaU,oBAAoB,QAASH,GAE1C,IAAII,EAAoBC,OAAOR,EAAMS,OACjCC,EAAuBF,OAAOP,EAASQ,OAE3CE,YAAW,SAASC,IAmBlB,GAlBsBC,KAAKC,SAAW,IAGpC1B,EAAAE,OAAOyB,QACL,uBAAuCC,OAAdlB,EAAQ,QAAwBkB,OAAlBT,EAAkB,OAE3DT,GAAW,EACXS,GAAqBG,IAErBtB,EAAAE,OAAO2B,QACL,sBAAoCD,OAAdlB,EAAQ,QAAwBkB,OAAlBT,EAAkB,OAExDT,GAAW,EACXS,GAAqBG,GAEnBZ,GAAWU,OAAOT,EAAOU,QAC3BE,WAAWC,EAAML,GAEfT,EAAUU,OAAOT,EAAOU,OAE1B,OADAX,EAAU,EACHF,EAAaM,iBAAiB,QAASC,E,GAE/CI,E","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nNotify.init({\n  useIcon: false,\n});\n\nconst itemsEl = document.querySelectorAll('input');\nconst submitButton = document.querySelector('button');\n\nlet counter = 1;\n\nconst amount = itemsEl[2];\nconst delay = itemsEl[0];\nconst newDelay = itemsEl[1];\n\nsubmitButton.addEventListener('click', createPromise);\n\nfunction createPromise(evt) {\n  evt.preventDefault();\n\n  submitButton.removeEventListener('click', createPromise);\n\n  let convertIntoNumber = Number(delay.value);\n  let convertIntoNewNumber = Number(newDelay.value);\n\n  setTimeout(function time() {\n    const shouldResolve = Math.random() > 0.3;\n\n    if (shouldResolve) {\n      Notify.success(\n        `✅ Fulfilled promise ${counter} in ${convertIntoNumber}ms`\n      );\n      counter += 1;\n      convertIntoNumber += convertIntoNewNumber;\n    } else {\n      Notify.failure(\n        `❌ Rejected promise ${counter} in ${convertIntoNumber}ms`\n      );\n      counter += 1;\n      convertIntoNumber += convertIntoNewNumber;\n    }\n    if (counter <= Number(amount.value)) {\n      setTimeout(time, convertIntoNumber);\n    }\n    if (counter > Number(amount.value)) {\n      counter = 1;\n      return submitButton.addEventListener('click', createPromise);\n    }\n  }, convertIntoNumber);\n}\n"],"names":["$h6c0i","parcelRequire","Notify","init","useIcon","$ce04d3a99e08e73b$var$itemsEl","document","querySelectorAll","$ce04d3a99e08e73b$var$submitButton","querySelector","$ce04d3a99e08e73b$var$counter","$ce04d3a99e08e73b$var$amount","$ce04d3a99e08e73b$var$delay","$ce04d3a99e08e73b$var$newDelay","addEventListener","$ce04d3a99e08e73b$var$createPromise","evt","preventDefault","removeEventListener","convertIntoNumber","Number","value","convertIntoNewNumber","setTimeout","time","Math","random","success","concat","failure"],"version":3,"file":"03-promises.f7f0674e.js.map"}